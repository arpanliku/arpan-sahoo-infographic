function getRandomArbitrary(e,t){return Math.random()*(t-e)+e}var $canvas,$main,$circleText,$circlePhotos,$circleSVGS,$background,$text,$nodeAnimation,winH,winW,isIE="",extension=".html",circleContent={networkenabledcloud:'<h1>Network<br>Enabled Cloud</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',unifiedcommunication:'<h1>Unified<br>Communication</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',etherverse:"<h2>Ongoing</h2><h2>Discoveries</h2>","sip-esip":'<h1>SIP/ESIP</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"hosted-pbx":'<h1>Hosted PBX</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"contact-center-on-demand":'<h1>Contact Center<br>On Demand</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"ip-flex":'<h1>IP-Flex</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',mobility:'<h1>Mobility</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"bandwidth-on-demand":'<h1>Bandwidth On Demand</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"multi-cloud":'<h1>Multi-Cloud</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"managed-services":'<h1>Managed Services</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',"performance-management":'<h1>Performance Management</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>',security:'<h1>Security</h1><a class="goto back" data-target="parent"><img src="public/images/back.png"/><span></span></a>'},necNodes=["bandwidth-on-demand","multi-cloud","managed-services","performance-management","security"],ucNodes=["sip-esip","hosted-pbx","contact-center-on-demand","ip-flex","mobility"],canvas={parent:"",current:"etherverse",s:!1,goTo:function(e,t){this.s=!1,$text.removeClass("show"),$circleText.addClass("fade"),"parent"==e&&(e=this.parent),this.parent=this.findParent(e),this.current=e,buttons.current=e,window.setTimeout(function(){buttons.hide().show(buttons.current),canvas.supportText(canvas.s,e),canvas.nodeAnimation(e),$circlePhotos.attr("class","").addClass(buttons.current)},250),window.setTimeout(function(){$circleText.html(circleContent[e]).removeClass("fade"),buttons.initBack()},750),!isIE&&t&&view.push(e,e)},load:function(){if(isIE=$("html").hasClass("ie"))e="etherverse";else{var e=window.location.pathname.split("/").pop();circle.rotate(),hex.load(),e=""==e||e=="main"+extension?"etherverse":e.replace(/\.[^/.]+$/,""),window.history.replaceState(e,e,window.location.pathname)}window.setTimeout(function(){$(".loading").addClass("hide"),view.load()},1e3),window.setTimeout(function(){$(".loaded").addClass("show"),$circleSVGS.attr("class","anim-in"),canvas.goTo(e,!1)},2500),buttons.init()},supportText:function(e,t){"etherverse"==t&&(t="main"),e?$textAjax.load(t+extension+" #text-ajax-content",function(){"networkenabledcloud"==t||"unifiedcommunication"==t||"main"==t?$main.removeClass("translate-node").addClass("translate-upper"):$main.removeClass("translate-upper").addClass("translate-node"),window.setTimeout(function(){$text.addClass("translate").addClass("show"),$(".element").addClass("slide")},450)}):($main.removeClass("translate-node").removeClass("translate-nec"),$text.removeClass("translate"),$(".element").removeClass("slide"))},nodeAnimation:function(e){$.inArray(e,ucNodes)>=0||$.inArray(e,necNodes)>=0?$nodeAnimation.load(e+extension+" #node-animation-content",function(){window.setTimeout(function(){$nodeAnimation.addClass("translate")},400)}):($nodeAnimation.removeClass("translate"),window.setTimeout(function(){$nodeAnimation.html("")},400))},findParent:function(e){return $.inArray(e,ucNodes)>=0?(this.s=!0,"unifiedcommunication"):$.inArray(e,necNodes)>=0?(this.s=!0,"networkenabledcloud"):(this.s="networkenabledcloud"==e||!0,"etherverse")}},view={push:function(e,t){"etherverse"==t?t="main"+extension:t+=extension,window.history.pushState(e,e,t)},load:function(){window.onpopstate=function(e){canvas.goTo(e.state,!1)}}},buttons={current:"",show:function(e){return $("."+e+"-group").addClass("show"),this},hide:function(){return $(".button").removeClass("show"),this},init:function(){$(".goto").click(function(e){e.preventDefault(),canvas.goTo($(this).data("target"),!0)}),$(".goto").hover(function(){$circlePhotos.toggleClass(buttons.current).toggleClass($(this).data("target"))})},initBack:function(){$(".goto.back").click(function(e){e.preventDefault(),canvas.goTo($(this).data("target"),!0)})}},circle={insideRingDeg:0,midringDeg:0,outRingDeg:0,$insidering:null,$midring:null,$outring:null,rotateID:null,rotate:function(){circle.insideRingDeg-=.04,circle.outRingDeg+=.08,circle.midringDeg+=.16,circle.$insideRing.css({"-webkit-transform":"rotate("+circle.insideRingDeg.toFixed(2)+"deg)",transform:"rotate("+circle.insideRingDeg.toFixed(2)+"deg)"}),circle.$outring.css({"-webkit-transform":"rotate("+circle.outRingDeg.toFixed(2)+"deg)",transform:"rotate("+circle.outRingDeg.toFixed(2)+"deg)"}),circle.$midring.css({"-webkit-transform":"rotate("+circle.midringDeg.toFixed(2)+"deg)",transform:"rotate("+circle.midringDeg.toFixed(2)+"deg)"}),circle.rotateID=requestAnimationFrame(circle.rotate)},stop:function(){cancelAnimationFrame(this.rotateID)}},hex={scales:[],hexes:[],loopID:null,load:function(){$(".hex-translate").each(function(e){hex.scales[e]=getRandomArbitrary(.2,1),hex.hexes[e]=getRandomArbitrary(-100,winW);var t=getRandomArbitrary(-100,winH);$(this).css({"-webkit-transform":"translate("+hex.hexes[e]+"px,0px)",transform:"translate("+hex.hexes[e]+"px,0px)"}),$(this).find(".hexagon").css({"-webkit-transform":"scale("+hex.scales[e]+") translate(0px,"+t+"px)",transform:"scale("+hex.scales[e]+") translate(0px,"+t+"px)"})}),this.loop()},loop:function(){$(".hex-translate").each(function(e){hex.hexes[e]+=.55/(4*hex.scales[e]),hex.hexes[e]>winW+337&&(hex.hexes[e]=0),$(this).css({"-webkit-transform":"translate("+hex.hexes[e].toFixed(2)+"px, 0px)",transform:"translate("+hex.hexes[e].toFixed(2)+"px, 0px)"})}),hex.loopID=requestAnimationFrame(hex.loop)},stop:function(){cancelAnimationFrame(this.loopID)}};jQuery(function(e){$circleText=e("#circle-text"),$circleSVGS=e("#circle-svgs"),$circlePhotos=e("#circle-photos"),circle.$insideRing=e("#inside-ring-spin"),circle.$midring=e("#white-outer-ring-spin"),circle.$outring=e("#dark-outer-ring-spin"),$background=e("#background"),$text=e("#text-wrapper"),$textAjax=e("#text"),$main=e("#main"),$nodeAnimation=e("#node-animation"),winH=e(window).height(),winW=e(window).width()}),$(window).load(canvas.load),$(window).resize(function(){winH=$(window).height(),winW=$(window).width()});